<!DOCTYPE html>
<!-- 
    GESTOR MEI - VERS√ÉO V12.4 (EXCLUS√ÉO DADOS LOCAIS)
    ESTRUTURA: HTML
-->
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor MEI - Sistema H√≠brido V12.4</title>
    
    <!-- CSS Link -->
    <link rel="stylesheet" href="style.css">

    <!-- FIREBASE SDK (Compatibilidade H√≠brida) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <!-- BIBLIOTECAS DE EXPORTA√á√ÉO (Melhor qualidade PDF/DOCX) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <!-- docx.js para gera√ß√£o de Word real -->
    <script src="https://unpkg.com/docx@7.1.0/build/index.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

</head>
<body>

    <!-- Tela de Autentica√ß√£o -->
    <div id="auth-screen">
        <div class="auth-card">
            <h2 class="text-center" style="margin-bottom: 1.5rem;">Gestor MEI</h2>
            <form id="login-form">
                <input type="email" id="login-email" placeholder="E-mail" required>
                <input type="password" id="login-password" placeholder="Senha" required>
                <button type="submit" class="btn-primary w-full">Entrar</button>
                <div class="mt-4 flex flex-col gap-2">
                    <button type="button" class="btn-outline w-full" onclick="toggleAuth('register')">Criar Conta (90 dias gr√°tis)</button>
                    <!-- Google Auth Integration Hook -->
                    <button type="button" class="google-btn w-full" onclick="handleGoogleLogin()">Entrar com Google</button>
                    <a href="#" onclick="alert('Simula√ß√£o: Link de recupera√ß√£o enviado para o e-mail!')" class="text-center text-sm text-primary mt-2">Esqueci minha senha</a>
                </div>
            </form>
            <form id="register-form" class="hidden">
                <input type="text" id="reg-name" placeholder="Seu Nome Completo" required>
                <input type="email" id="reg-email" placeholder="E-mail" required>
                <input type="password" id="reg-password" placeholder="Senha" required>
                <button type="submit" class="btn-success w-full">Cadastrar e Ganhar 90 Dias</button>
                <button type="button" class="btn-outline w-full mt-4" onclick="toggleAuth('login')">Voltar para Login</button>
            </form>
        </div>
    </div>

    <!-- Aplica√ß√£o Principal -->
    <div id="app-container" class="hidden">
        <aside>
            <h2>Gestor MEI</h2>
            <nav class="flex-col flex w-full">
                <div class="nav-item active" onclick="navTo('dashboard')">üìä Dashboard</div>
                <div class="nav-item" onclick="navTo('agenda')">üìÖ Agenda</div>
                <div class="nav-item" onclick="navTo('cadastros')">üßæ Cadastros</div>
                <div class="nav-item" onclick="navTo('financeiro')">üí∞ Financeiro</div>
                <div class="nav-item" onclick="navTo('rpa')">üìÑ Gerador RPA</div>
                <div class="nav-item" onclick="navTo('fiscal')">üè¢ Fiscal & IRRF</div>
                <div class="nav-item" onclick="navTo('listagens')">üìë Listagens</div>
                <div class="nav-item" onclick="navTo('configuracoes')">‚öôÔ∏è Configura√ß√µes</div>
            </nav>
            <div class="user-info">
                <p>
                    <span id="sync-indicator" class="sync-status sync-offline" title="Offline / Local"></span>
                    <span id="user-name-display">Usu√°rio</span>
                </p>
                <!-- Bot√£o de Sincroniza√ß√£o Volunt√°ria -->
                <button onclick="forceCloudSync()" class="btn-info text-sm w-full mt-2" style="padding: 0.3rem;">‚òÅÔ∏è Sincronizar Nuvem</button>
                
                <p id="license-days-display" class="text-success text-sm mt-2">Licen√ßa Ativa</p>
                <button onclick="logout()" class="text-danger text-sm mt-2 w-full text-left" style="background: rgba(220, 38, 38, 0.1); border-radius: 4px; padding: 0.5rem; text-align: center;">üö™ Sair / Logout</button>
            </div>
        </aside>

        <main>
            <div id="license-warning" class="notification-bar hidden">Sua licen√ßa expirou! Renove nas configura√ß√µes.</div>

            <!-- View: Dashboard -->
            <section id="view-dashboard">
                <div class="view-header"><h1>Vis√£o Geral</h1></div>
                <div class="dash-grid">
                    <div class="stat-card"><h3>Receitas (M√™s)</h3><div class="stat-value text-success" id="dash-income">R$ 0,00</div></div>
                    <div class="stat-card"><h3>Despesas (M√™s)</h3><div class="stat-value text-danger" id="dash-expense">R$ 0,00</div></div>
                    <div class="stat-card"><h3>Saldo</h3><div class="stat-value" id="dash-balance">R$ 0,00</div></div>
                </div>
                <div class="dash-grid mt-4">
                    <div class="stat-card" style="border-left: 4px solid var(--info);">
                        <h3>Reserva (<span id="reserve-percent-display">10</span>%)</h3>
                        <div class="stat-value text-info" id="dash-reserve">R$ 0,00</div>
                        <div class="stat-sub">Acumulado das Entradas</div>
                    </div>
                    <div class="stat-card" style="border-left: 4px solid var(--warning);">
                        <h3>Pr√≥-labore (M√™s)</h3>
                        <div class="stat-value text-warning" id="dash-prolabore">R$ 0,00</div>
                        <div class="stat-sub">Meta: <span id="dash-prolabore-target">R$ 0,00</span></div>
                    </div>
                </div>
                <div class="mt-4 flex gap-4 flex-col md:flex-row">
                    <div class="stat-card w-full"><h3>üìÖ Pr√≥ximos Compromissos Fiscais</h3><ul id="fiscal-reminders" class="mt-4" style="list-style: none;"></ul></div>
                    <div class="stat-card w-full"><h3>üìÇ Acesso R√°pido</h3><p class="mb-4">Relat√≥rios e Listagens.</p><button class="btn-info w-full" onclick="navTo('listagens')">Ver Listagens</button></div>
                </div>
            </section>

            <!-- View: Agenda -->
            <section id="view-agenda" class="hidden">
                <div class="view-header flex justify-between items-center">
                    <h1>Agenda de Compromissos</h1>
                    <button class="btn-primary" onclick="openAppointmentModal()">+ Novo Agendamento</button>
                </div>
                <div class="flex gap-2 mb-4">
                    <input type="date" id="agenda-filter-date" onchange="renderAgenda()" style="max-width: 200px; margin:0;">
                    <button class="btn-outline" onclick="renderAgenda('all')">Ver Todos</button>
                    <button class="btn-outline" onclick="renderAgenda('today')">Hoje</button>
                </div>
                <div id="agenda-list" class="dash-grid"></div>
            </section>

            <!-- View: Listagens -->
            <section id="view-listagens" class="hidden">
                <div class="view-header flex justify-between items-center">
                    <h1>Relat√≥rios</h1>
                    <div class="no-print">
                        <button class="btn-primary" onclick="exportReportPDFHighQuality()">üñ®Ô∏è PDF (HQ)</button>
                        <button class="btn-info" onclick="exportReportDocxReal()">üìÑ DOCX (Word)</button>
                    </div>
                </div>
                <div class="tabs no-print">
                    <button class="tab-btn active" onclick="switchListing('clients')">Clientes</button>
                    <button class="tab-btn" onclick="switchListing('suppliers')">Fornecedores</button>
                    <button class="tab-btn" onclick="switchListing('products')">Produtos</button>
                    <button class="tab-btn" onclick="switchListing('services')">Servi√ßos</button>
                    <button class="tab-btn" onclick="switchListing('movimentacoes')">Movimenta√ß√µes</button>
                </div>
                <div id="movements-filter" class="stat-card mb-4 hidden no-print">
                    <label>Filtrar por M√™s e Ano:</label>
                    <div class="flex gap-2">
                        <input type="month" id="listing-month-filter" onchange="renderListingTable()">
                        <button class="btn-outline" style="width: auto;" onclick="renderListingTable()">Filtrar</button>
                    </div>
                </div>
                <div class="table-container" id="report-print-area">
                    <h3 id="report-company-header" class="text-center mb-4" style="text-transform: uppercase;"></h3>
                    <h3 id="report-title" class="hidden text-center">Relat√≥rio</h3>
                    <table id="listing-table"><thead id="listing-thead"></thead><tbody id="listing-tbody"></tbody></table>
                </div>
            </section>

            <!-- View: Financeiro -->
            <section id="view-financeiro" class="hidden">
                <div class="view-header flex justify-between items-center">
                    <h1>Movimenta√ß√µes Financeiras</h1>
                    <button class="btn-primary" onclick="openTransactionModal()">+ Novo Lan√ßamento</button>
                </div>
                
                <!-- Filtros de Tipo -->
                <div class="flex gap-4 mb-2">
                    <button class="btn-outline fin-filter-btn active" onclick="filterFinance('all')">Todos</button>
                    <button class="btn-outline fin-filter-btn" onclick="filterFinance('receita')">Entradas</button>
                    <button class="btn-outline fin-filter-btn" onclick="filterFinance('despesa')">Sa√≠das</button>
                </div>

                <!-- Filtros de Data -->
                <div class="stat-card mb-4" style="padding: 1rem; background-color: var(--card-bg);">
                    <div class="flex gap-4 items-end flex-wrap md:flex-nowrap">
                        <div class="w-full">
                            <label class="text-sm">Data Inicial</label>
                            <input type="date" id="finance-start-date" style="margin-bottom:0;">
                        </div>
                        <div class="w-full">
                            <label class="text-sm">Data Final</label>
                            <input type="date" id="finance-end-date" style="margin-bottom:0;">
                        </div>
                        <button class="btn-info" onclick="applyFinanceDateFilter()" style="height: 42px; margin-bottom:0;">Filtrar</button>
                        <button class="btn-outline" onclick="clearFinanceDateFilter()" style="height: 42px; margin-bottom:0;">Limpar</button>
                    </div>
                </div>

                <div class="table-container">
                    <table id="finance-table">
                        <thead><tr><th>Data</th><th>Tipo</th><th>Categoria</th><th>Descri√ß√£o</th><th>Valor</th><th>A√ß√µes</th></tr></thead><tbody></tbody>
                    </table>
                </div>
            </section>

            <!-- View: Gerador RPA -->
            <section id="view-rpa" class="hidden">
                <div class="view-header no-print"><h1>Gerador de RPA</h1></div>
                
                <div class="stat-card mb-4 no-print">
                    <div class="flex gap-4 flex-col md:flex-row">
                        <div class="w-full">
                            <h3 class="mb-2">Automa√ß√£o</h3>
                            <label>Selecione o Aut√¥nomo:</label>
                            <select id="rpa-provider-select" onchange="fillRPAProvider()"><option value="">Selecione...</option></select>
                        </div>
                        <div class="w-full">
                            <h3 class="mb-2">A√ß√µes</h3>
                            <div class="flex gap-2 mb-2">
                                <button class="btn-success w-full" onclick="saveRPA()">üíæ Salvar RPA</button>
                                <button class="btn-warning w-full" onclick="toggleRPAHistory()">üìú Hist√≥rico</button>
                            </div>
                            <div class="flex gap-2">
                                <button class="btn-primary w-full" onclick="exportRPAPdfHighQuality()">üñ®Ô∏è PDF (HQ)</button>
                                <button class="btn-info w-full" onclick="exportRPADocxReal()">üìÑ DOCX (Word)</button>
                            </div>
                        </div>
                    </div>
                    <div id="rpa-history-container" class="hidden mt-4 border-t pt-4">
                        <h4>Recibos Salvos</h4>
                        <div class="table-container">
                            <table id="rpa-history-table"><thead><tr><th>Data</th><th>Aut√¥nomo</th><th>Valor L√≠quido</th><th>A√ß√µes</th></tr></thead><tbody></tbody></table>
                        </div>
                    </div>
                </div>

                <div class="rpa-paper" id="rpa-content">
                    <h2 class="text-center mb-4" style="text-decoration: underline;">RECIBO DE PAGAMENTO A AUT√îNOMO (RPA)</h2>
                    <input type="hidden" id="rpa-id">
                    <div class="rpa-section">
                        <h4>1. Contratante (Empresa)</h4>
                        <label>Raz√£o Social:</label><input type="text" id="rpa-comp-name">
                        <div class="flex gap-2"><div class="w-full"><label>CNPJ:</label><input type="text" id="rpa-comp-cnpj"></div><div class="w-full"><label>Endere√ßo:</label><input type="text" id="rpa-comp-addr"></div></div>
                    </div>
                    <div class="rpa-section">
                        <h4>2. Aut√¥nomo (Prestador)</h4>
                        <label>Nome Completo:</label><input type="text" id="rpa-prov-name">
                        <div class="flex gap-2"><div class="w-full"><label>CPF:</label><input type="text" id="rpa-prov-cpf"></div><div class="w-full"><label>Telefone:</label><input type="text" id="rpa-prov-phone"></div></div>
                        <label>Endere√ßo:</label><input type="text" id="rpa-prov-addr">
                    </div>
                    <div class="rpa-section">
                        <h4>3. Servi√ßo Prestado</h4>
                        <label>Descri√ß√£o:</label><input type="text" id="rpa-desc" placeholder="Ex: Consultoria">
                        <label>Data:</label><input type="date" id="rpa-date">
                    </div>
                    <div class="rpa-section">
                        <h4>4. Valor do Servi√ßo</h4>
                        <label>Valor Bruto (R$):</label><input type="number" id="rpa-value" step="0.01" oninput="calculateRPA()" placeholder="0,00">
                    </div>
                    <div class="rpa-section">
                        <h4>5. C√°lculo dos Descontos</h4>
                        <div class="flex gap-2">
                            <div class="w-full"><label>a) INSS (11%):</label><input type="text" id="rpa-inss" readonly></div>
                            <div class="w-full"><label>b) ISS (%: <input type="number" id="rpa-iss-rate" value="3" style="width:50px;display:inline;" oninput="calculateRPA()">):</label><input type="text" id="rpa-iss-val" readonly></div>
                        </div>
                        <label>c) IRRF:</label><input type="text" id="rpa-irrf" readonly>
                        <hr class="mt-2 mb-2">
                        <label style="font-size: 1.2rem; color: var(--primary);">‚û° Valor L√≠quido:</label>
                        <input type="text" id="rpa-net" readonly style="font-size: 1.5rem; font-weight: bold;">
                    </div>
                    <div class="rpa-section" style="border:none;">
                        <h4>6. Declara√ß√£o</h4>
                        <p style="text-align: justify; font-size: 0.9rem;">Declaro que prestei os servi√ßos acima descritos e recebi da contratante o valor l√≠quido correspondente, dando o presente recibo como pago e quitado.</p>
                        <br><br>
                        <div class="flex gap-4">
                            <div class="w-full text-center"><p>______________________________________</p><p><strong>Prestador</strong></p><p>Data: ____ / ____ / ______</p></div>
                            <div class="w-full text-center"><p>______________________________________</p><p><strong>Contratante</strong></p><p>Data: ____ / ____ / ______</p></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- View: Cadastros -->
            <section id="view-cadastros" class="hidden">
                <div class="view-header"><h1>Cadastros</h1></div>
                <div class="flex gap-2 mb-4 overflow-x-auto">
                    <button class="btn-outline crud-btn" onclick="renderCrud('products')">Produtos</button>
                    <button class="btn-outline crud-btn" onclick="renderCrud('services')">Servi√ßos</button>
                    <button class="btn-outline crud-btn" onclick="renderCrud('clients')">Clientes</button>
                    <button class="btn-outline crud-btn" onclick="renderCrud('suppliers')">Fornecedores</button>
                </div>
                <div id="crud-area" class="stat-card">
                    <div class="flex justify-between items-center mb-4">
                        <h3 id="crud-title">Itens</h3>
                        <button class="btn-primary" onclick="openCrudModal(false)">+ Adicionar</button>
                    </div>
                    <div class="table-container"><table id="crud-table"></table></div>
                </div>
            </section>

            <!-- View: Fiscal -->
            <section id="view-fiscal" class="hidden">
                <div class="view-header"><h1>Fiscal & Obriga√ß√µes</h1></div>
                <div class="dash-grid">
                    <div class="stat-card text-center">
                        <h3>Emitir Nota Fiscal</h3>
                        <p class="text-sm text-light mb-4">Link Configurado</p>
                        <a id="link-emissor" href="#" target="_blank" class="btn-primary">Acessar Emissor</a>
                    </div>
                    <div class="stat-card">
                        <h3>DAS MEI</h3>
                        <p class="mb-2">Vencimento dia 20.</p>
                        <a id="link-das" href="#" target="_blank" class="btn-outline w-full text-center">Gerar Boleto DAS</a>
                    </div>
                </div>
                <div class="stat-card mt-4">
                    <div class="flex justify-between items-center mb-2"><h3>Tabela IRRF</h3><button class="btn-info action-btn" onclick="openIrrfModal()">+ Faixa</button></div>
                    <div class="table-container mt-2"><table id="irrf-table-display"><thead><tr><th>At√© Base (R$)</th><th>%</th><th>Dedu√ß√£o</th><th>X</th></tr></thead><tbody id="irrf-table-body"></tbody></table></div>
                </div>
            </section>

            <!-- View: Configura√ß√µes -->
            <section id="view-configuracoes" class="hidden">
                <div class="view-header"><h1>Configura√ß√µes</h1></div>
                
                <!-- PAINEL ADMIN (APENAS PARA JCNVAP) -->
                <div id="admin-panel" class="stat-card mb-4 hidden" style="border: 2px solid #8b5cf6;">
                    <h3 class="text-primary">üõ†Ô∏è Painel Admin (Desenvolvimento)</h3>
                    <p class="mb-2 text-sm">Detectado usu√°rio administrador.</p>
                    <div class="flex gap-2">
                        <button class="btn-success w-full" onclick="adminPopulateData()">üé≤ Preencher Dados de Teste</button>
                        <button class="btn-danger w-full" onclick="adminClearData()">üóëÔ∏è Limpar Dados de Teste</button>
                    </div>
                    <button class="btn-outline w-full mt-2" onclick="runQualityCheck()">üïµÔ∏è Rodar Rotina de Qualidade</button>
                </div>

                <div class="stat-card mb-4">
                    <h3>üè¢ Dados da Empresa & URLs</h3>
                    <form onsubmit="saveCompanyData(event)">
                        <label>Nome Fantasia</label><input type="text" id="conf-company-name" required>
                        <div class="flex gap-2">
                            <div class="w-full"><label>CNPJ</label><input type="text" id="conf-cnpj"></div>
                            <div class="w-full"><label>Telefone</label><input type="text" id="conf-phone"></div>
                        </div>
                        <label>Endere√ßo Completo</label><input type="text" id="conf-address">
                        <label>WhatsApp</label><input type="text" id="conf-whatsapp">
                        <label>Atua√ß√£o</label>
                        <select id="conf-role">
                            <option value="both">Vendedor e Prestador</option>
                            <option value="seller">Vendedor</option>
                            <option value="provider">Prestador</option>
                        </select>
                        <hr class="mt-4 mb-4">
                        <h4>Par√¢metros Financeiros</h4>
                        <div class="flex gap-2">
                            <div class="w-full"><label>Percentual Reserva (%)</label><input type="number" id="conf-reserve-rate" step="0.1" placeholder="Sugest√£o: 10"></div>
                            <div class="w-full"><label>Meta Pr√≥-labore (R$)</label><input type="number" id="conf-prolabore-target" step="0.01" placeholder="Padr√£o: 4000.00"></div>
                        </div>
                        <hr class="mt-4 mb-4">
                        <h4>Links Externos</h4>
                        <label>URL Emissor Fiscal</label><input type="url" id="conf-url-fiscal" placeholder="Padr√£o do Governo...">
                        <label>URL Gera√ß√£o DAS</label><input type="url" id="conf-url-das" placeholder="Padr√£o do Governo...">
                        <button type="submit" class="btn-primary mt-2">Salvar Dados</button>
                    </form>
                </div>
                <div class="stat-card mb-4">
                    <h3>üíæ Backup & Sincroniza√ß√£o</h3>
                    <div class="flex gap-4 mt-2 items-center flex-wrap">
                        <button class="btn-info" onclick="downloadBackup()">üì• Backup (.json)</button>
                        <div class="flex flex-col"><label style="margin-top:0">Restaurar</label><input type="file" id="restore-file" accept=".json" onchange="restoreBackup(this)"></div>
                    </div>
                    <!-- Bot√£o de Limpeza de Dados Locais -->
                    <button class="btn-danger" style="margin-top: 1rem; width: 100%;" onclick="clearLocalData()">üóëÔ∏è Apagar Dados Locais (Reset)</button>
                </div>
                <div class="stat-card mb-4">
                    <h3>üîê Licen√ßa</h3>
                    <div class="flex flex-col gap-2 mt-2">
                        <div class="flex gap-2"><input type="password" id="license-random-code" readonly><button class="btn-outline" onclick="generateLicenseCode()">Gerar</button></div>
                        <input type="number" id="license-days-input" placeholder="Dias">
                        <button class="btn-success" onclick="sendWhatsApp()">üì± WhatsApp</button>
                        <div class="flex gap-2"><input type="number" id="license-key-input" placeholder="Contra-senha"><button class="btn-primary" onclick="validateLicense()">Validar</button></div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modais -->
    <div id="modal-transaction" class="modal-overlay hidden">
        <div class="modal">
            <h2>Lan√ßamento Financeiro</h2>
            <form id="form-transaction" onsubmit="saveTransaction(event)">
                <input type="hidden" id="trans-id">
                <label>Tipo</label><select id="trans-type" onchange="updateTransactionDependencies()" required><option value="receita">Entrada</option><option value="despesa">Sa√≠da</option></select>
                <label>Categoria</label><select id="trans-category" required></select>
                <label>Valor</label><input type="number" id="trans-value" step="0.01" required>
                <label>Data</label><input type="date" id="trans-date" required>
                <label>Cliente/Fornecedor</label><select id="trans-entity"><option value="">Selecione...</option></select>
                <label>Descri√ß√£o</label><textarea id="trans-obs" rows="3"></textarea>
                <div class="flex gap-2 mt-4"><button type="button" class="btn-outline w-full" onclick="closeModal('modal-transaction')">Cancelar</button><button type="submit" class="btn-primary w-full">Salvar</button></div>
            </form>
        </div>
    </div>

    <div id="modal-crud" class="modal-overlay hidden">
        <div class="modal">
            <h2 id="modal-crud-title">Item</h2>
            <form id="form-crud" onsubmit="saveCrudItem(event)">
                <input type="hidden" id="crud-id">
                <div id="crud-fields"></div>
                <div class="flex gap-2 mt-4"><button type="button" class="btn-outline w-full" onclick="closeModal('modal-crud')">Cancelar</button><button type="submit" class="btn-primary w-full">Salvar</button></div>
            </form>
        </div>
    </div>

    <div id="modal-irrf" class="modal-overlay hidden">
        <div class="modal">
            <h2>Faixa IRRF</h2>
            <form id="form-irrf" onsubmit="saveIrrfRow(event)">
                <input type="hidden" id="irrf-id">
                <label>At√© Base (R$)</label><input type="number" step="0.01" id="irrf-max" required>
                <label>%</label><input type="number" step="0.01" id="irrf-rate" required>
                <label>Dedu√ß√£o</label><input type="number" step="0.01" id="irrf-deduction" required>
                <div class="flex gap-2 mt-4"><button type="button" class="btn-outline w-full" onclick="closeModal('modal-irrf')">Cancelar</button><button type="submit" class="btn-primary w-full">Salvar</button></div>
            </form>
        </div>
    </div>

    <div id="modal-appointment" class="modal-overlay hidden">
        <div class="modal">
            <h2>Agendamento</h2>
            <form id="form-appointment" onsubmit="saveAppointment(event)">
                <input type="hidden" id="appt-id">
                <label>T√≠tulo do Compromisso</label>
                <input type="text" id="appt-title" required placeholder="Ex: Atendimento Jo√£o">
                <div class="flex gap-2">
                    <div class="w-full"><label>Data</label><input type="date" id="appt-date" required></div>
                    <div class="w-full"><label>Hora</label><input type="time" id="appt-time" required></div>
                </div>
                <div class="flex gap-2 items-end">
                    <div class="w-full"><label>Buscar Cliente (Opcional)</label><select id="appt-client-select" onchange="fillAppointmentClient()"></select></div>
                </div>
                <div class="flex gap-2">
                    <div class="w-full"><label>Nome do Cliente</label><input type="text" id="appt-client-name" required></div>
                    <div class="w-full"><label>Telefone</label><input type="text" id="appt-client-phone"></div>
                </div>
                <label>Descri√ß√£o do Servi√ßo</label><textarea id="appt-desc" rows="2"></textarea>
                <div class="flex gap-2">
                    <div class="w-full"><label>Valor (R$)</label><input type="number" step="0.01" id="appt-value" placeholder="0.00"></div>
                    <div class="w-full"><label>Status</label><select id="appt-status"><option value="agendado">Agendado</option><option value="concluido">Conclu√≠do</option><option value="cancelado">Cancelado</option></select></div>
                </div>
                <div class="flex gap-2">
                    <div class="w-full"><label>Forma Pagto.</label><select id="appt-pay-method"><option value="pix">Pix</option><option value="dinheiro">Dinheiro</option><option value="cartao">Cart√£o</option></select></div>
                    <div class="w-full"><label>Status Pagto.</label><select id="appt-pay-status"><option value="pendente">Pendente</option><option value="pago">Pago</option></select></div>
                </div>
                <label>Observa√ß√µes</label><textarea id="appt-obs" rows="2"></textarea>
                <div class="flex gap-2 mt-4">
                    <button type="button" class="btn-outline w-full" onclick="closeModal('modal-appointment')">Cancelar</button>
                    <button type="submit" class="btn-primary w-full">Salvar Agendamento</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- JS Logic -->
    <script src="script.js"></script>
</body>
</html>